Imports and exports
===================

.. note::
    
    Attention: the import procedure is about to change in the next version of DDI on Rails.

Import formats
--------------

CSV formats
~~~~~~~~~~~

.. note::

    The full list of CSV imports is currently documented on `ddionrails.org/imports <http://ddionrails.org/imports/>`__

**Markdown**

In most imports, there is a ``description`` field using Markdown. For
more information about the Markdown markup language, see: `Daring
Fireball <http://daringfireball.net/projects/markdown/>`__.

**Conventions**

-  Some fields in the CSV exports are not part of the import. Those
   fields start with ``view_`` ``variables`` and ``datasets``.
-  Columns with the ``internal_`` prefix are indended for internal use
   only and will not be imported (e.g. ``internal_comment``).
-  Language codes, for all translation purposes: `ISO
   639-1 <http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes>`__

XML formats
~~~~~~~~~~~

-  **Endnote:** Publications in Endnote's XML export.
-  **r2ddi:** DDI-Codebook-based XML, generated by r2ddi.
-  **QeDML:** QeDML-XML from QLIB.

Other formats
~~~~~~~~~~~~~

-  **EndnoteKeys** are a special import of two columns (accession number
   and keywords) in addition to the normal XML import. Endnote exports
   everything but the keywords to XML what makes this import neccessary.

Import structure
----------------

Top level
~~~~~~~~~

::

    import/
    |  system/       # -> system-wide imports
    |  study-first/  # \
    |  study-second/ #  }-> one folder per study
    |  study-third/  # /

All levels
~~~~~~~~~~

::

    import/
    |  system/
    |  |  endnote.xml
    |  |  endnote-keys.txt
    |  |  ddiOnRails.png
    |  study-first/
    |  |  studies.csv
    |  |  variables.csv
    |  |  ...all other csv files...
    |  |  files/
    |  |  |  ...all files for public folder...
    |  |  qedml/
    |  |  |  ...questionnaires in QeDML-XML-format...
    |  |  r2ddi/
    |  |  |  version/
    |  |  |  |  ...dataset descriptions in DDI-C-XML...
    |  study-second/
    |  |  ...like study-first...


CSV Imports
-----------

.. toctree::
    :maxdepth: 1

    studies_csv
    topics_csv
    concepts_csv

    periods_csv
    analysis_units_csv
    conceptual_datasets_csv

    logical_datasets_csv
    logical_variables_csv
    distributions_csv
    datasets_distributions_csv
    variables_csv
    variable_categories_csv
    generations_csv

    questionnaires_csv
    questions_csv
    answers_csv

    translations_csv
    script_generators_csv

